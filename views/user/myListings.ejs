<%- include("../includes/navbar.ejs") %>

<div class="container mt-5">
    <h2 class="mb-4">My Listings</h2>

    <% if (products && products.length > 0) { %>
        <% products.forEach(function(product) { %>
            <div class="row mb-4 align-items-center border p-3 rounded">
                <!-- Product Image -->
                <div class="col-md-3">
                    <img src="<%= product.image || '/images/product-placeholder.png' %>" 
                         class="img-fluid rounded" alt="<%= product.title %>" 
                         style="height:150px; object-fit:cover; width:100%;">
                </div>

                <!-- Product Details -->
                <div class="col-md-7">
                    <h5><%= product.title %></h5>
                    <p><strong>Category:</strong> <%= product.category %></p>
                    <p><strong>Price:</strong> â‚¹<%= product.price %></p>
                    <p><strong>Condition:</strong> <%= product.condition %></p>
                    <p><strong>Brand/Model:</strong> <%= product.brand %> / <%= product.model %></p>
                    <p><%= product.description %></p>
                </div>

                <!-- Actions -->
                <div class="col-md-2 text-center">
                    <a href="/edit-product/<%= product.id %>" class="btn btn-sm btn-primary mb-2 w-100">Edit</a>
                    <a href="/delete-product/<%= product.id %>" class="btn btn-sm btn-danger w-100">Delete</a>
                </div>
            </div>
        <% }) %>
    <% } else { %>
        <p>You have no products listed yet. <a href="/add-product">Add a product</a></p>
    <% } %>
</div>

<%- include("../includes/footer.ejs") %>

